{% extends "layouts/default.html" %}

{% macro call__prevNext() %}
  {% for post in site.posts -%}
    {% if post.id == page.id %}
      {% if post.prev %}
        {% set prev = {title: post.prev.title, url: '/' + post.prev.category + '/' + post.prev.id} %}
      {% endif %}
      {% if post.next %}
        {% set next = {title: post.next.title, url: '/' + post.next.category + '/' + post.next.id} %}
      {% endif %}
      {{ m_prevNext(prev,next) }}
    {% endif %}
  {%- endfor %}
{% endmacro %}

{% block content %}

{{ c_page([
    m_breadcrumbs([
      {title: 'Home',
      url: '/'},
      {title: 'Articles',
      url: '/articles'},
      {title: page.id}
    ]),
    m_pageTitle(page.title,date=page.date,humanDate=page.humanDate),
    m_prose(contents),
    call__prevNext()
  ])
}}
{% endblock %}
